---
import BaseLayout from '@layouts/BaseLayout.astro';

const coreFeatures = [
  {
    title: 'Cross-Platform Support',
    icon: 'globe',
    description: 'dtvem works identically on Windows, macOS, and Linux. Same commands, same behavior, same experience. Write your setup once and it works everywhere.',
    details: [
      'Identical commands across all platforms',
      'Single codebase ensures consistent behavior',
      'Works in any shell: cmd, PowerShell, bash, zsh, fish',
      'No platform-specific workarounds needed',
    ],
    code: [
      { label: 'Same commands everywhere', command: 'dtvem install python 3.12' },
      { label: 'Set global version', command: 'dtvem global python 3.12' },
    ],
  },
  {
    title: 'Windows First-Class',
    icon: 'window',
    description: 'Finally, a version manager that treats Windows as a first-class citizen. No WSL required, no administrator privileges needed. Native Windows support that just works.',
    details: [
      'Native Windows support without WSL',
      'Works in cmd.exe and PowerShell',
      'No administrator privileges required',
      'Proper handling of Windows paths and executables',
    ],
    code: [
      { label: 'Windows (PowerShell)', command: 'irm dtvem.io/install.ps1 | iex' },
    ],
  },
  {
    title: 'Shim-Based Architecture',
    icon: 'bolt',
    description: 'Unlike tools that require shell hooks and modifications to .bashrc or .zshrc, dtvem uses lightweight shims. No shell configuration, instant version switching, and it works in any shell out of the box.',
    details: [
      'No shell hooks or .bashrc/.zshrc changes',
      'Works immediately after installation',
      'Instant version switching without shell restart',
      '5-10ms overhead per command (negligible)',
    ],
    code: [
      { label: 'Switch instantly', command: 'dtvem global python 3.12' },
      { label: 'Verify immediately', command: 'python --version' },
    ],
  },
  {
    title: 'Project-Local Versions',
    icon: 'folder',
    description: 'Pin runtime versions per project with a simple JSON file. When you cd into a project directory, dtvem automatically uses the correct versions. Commit it to Git and your whole team stays in sync.',
    details: [
      'Automatic version switching per directory',
      'Git-friendly JSON configuration',
      'Team members run `dtvem install` after cloning',
      'Different projects can use different versions',
    ],
    code: [
      { label: 'Set local version', command: 'dtvem local python 3.12' },
      { label: 'Install from config', command: 'dtvem install' },
    ],
  },
  {
    title: 'Multiple Runtimes, One Tool',
    icon: 'layers',
    description: 'Stop juggling nvm, pyenv, and rbenv. dtvem manages Python, Node.js, Ruby, and more with a single, consistent interface. One tool to learn, one tool to maintain.',
    details: [
      'Python, Node.js, and Ruby supported today',
      'Go, Rust, Java, .NET coming soon',
      'Unified CLI for all runtimes',
      'Extensible provider system for adding more',
    ],
    code: [
      { label: 'List all installed', command: 'dtvem list' },
      { label: 'Install any runtime', command: 'dtvem install node 20' },
    ],
  },
];

const additionalFeatures = [
  {
    title: 'Easy Migration',
    icon: 'migrate',
    description: 'Import your existing versions from nvm, fnm, pyenv, rbenv, rvm, and more. dtvem detects your installations and migrates them with global packages preserved.',
    command: 'dtvem migrate node',
  },
  {
    title: 'System PATH Fallback',
    icon: 'fallback',
    description: 'When no dtvem version is configured, commands fall back to your system installation. Migrate gradually without breaking existing workflows.',
    command: 'dtvem which go',
  },
  {
    title: 'Auto-Reshim Detection',
    icon: 'refresh',
    description: 'When you install global packages with npm or pip, dtvem detects it and prompts you to update shims so new commands are available.',
    command: 'dtvem reshim',
  },
  {
    title: 'Fast Installation',
    icon: 'bolt',
    description: 'dtvem downloads prebuilt binaries instead of compiling from source. Install Python in ~30 seconds instead of 10+ minutes.',
    command: 'dtvem install python 3.12',
  },
  {
    title: 'Zero Dependencies',
    icon: 'cube',
    description: 'dtvem is a single compiled Go binary. No runtime dependencies, no prerequisites. Download and run.',
    command: 'dtvem version',
  },
  {
    title: 'CI/CD Friendly',
    icon: 'server',
    description: 'Use DTVEM_AUTO_INSTALL=false for non-interactive CI environments. Pair with `dtvem install --yes` for automated pipelines.',
    command: 'dtvem install --yes',
  },
];

const runtimes = [
  { name: 'Python', icon: 'python', status: 'available', shims: 'python, python3, pip, pip3' },
  { name: 'Node.js', icon: 'node', status: 'available', shims: 'node, npm, npx' },
  { name: 'Ruby', icon: 'ruby', status: 'available', shims: 'ruby, gem, bundle, rake' },
  { name: 'Go', icon: 'go', status: 'coming', shims: 'go, gofmt' },
  { name: 'Rust', icon: 'rust', status: 'coming', shims: 'rustc, cargo' },
  { name: 'Java', icon: 'java', status: 'coming', shims: 'java, javac' },
];
---

<BaseLayout title="Features - dtvem" description="Discover why dtvem is the best cross-platform runtime version manager for Windows, macOS, and Linux.">
  <!-- Hero -->
  <section class="relative overflow-hidden py-12 md:py-16" style="background: radial-gradient(ellipse 100% 100% at 50% 0%, rgba(45, 212, 191, 0.4), transparent 70%);">

    <div class="container text-center">
      <h1 class="text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl" style="background: linear-gradient(135deg, #fff 0%, #2dd4bf 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
        Features
      </h1>
      <p class="mx-auto mt-6 max-w-2xl text-lg text-slate-400">
        <span style="color: #2dd4bf;">One tool.</span> All runtimes. <span style="color: #2dd4bf;">All platforms.</span> No shell hacks.
      </p>
    </div>
  </section>


  <!-- Core Features -->
  {coreFeatures.map((feature, index) => (
    <section class="border-t border-primary-600 py-20">
      <div class="container">
          <h2 class="text-3xl font-bold text-white flex items-center">
            {feature.icon === 'globe' && (
              <svg class="h-8 w-8 text-primary-400" style="margin-right: 1rem" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            )}
            {feature.icon === 'window' && (
              <svg class="h-8 w-8 text-primary-400" style="margin-right: 1rem" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
            )}
            {feature.icon === 'bolt' && (
              <svg class="h-8 w-8 text-primary-400" style="margin-right: 1rem" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            )}
            {feature.icon === 'folder' && (
              <svg class="h-8 w-8 text-primary-400" style="margin-right: 1rem" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
              </svg>
            )}
            {feature.icon === 'layers' && (
              <svg class="h-8 w-8 text-primary-400" style="margin-right: 1rem" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
              </svg>
            )}
            <span>{feature.title}</span>
          </h2>
          <p class="mt-4 text-lg text-slate-400">{feature.description}</p>
          <div class="mt-8 flex gap-8 items-center">
            {index % 2 === 0 ? (
              <>
                <div class="flex-1 flex justify-center">
                  <ul class="space-y-4">
                    {feature.details.map((detail) => (
                      <li class="flex items-start gap-3">
                        <svg class="mt-1 h-5 w-5 shrink-0 text-primary-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                        <span class="text-slate-300">{detail}</span>
                      </li>
                    ))}
                  </ul>
                </div>
                <div class="flex-1 space-y-4">
                  {feature.code.map((item) => (
                    <div class="rounded-lg border border-slate-800 bg-navy-900 p-4">
                      <p class="mb-2 text-xs font-medium text-slate-500">{item.label}</p>
                      <code class="text-sm text-primary-400">&gt; {item.command}</code>
                    </div>
                  ))}
                </div>
              </>
            ) : (
              <>
                <div class="flex-1 space-y-4">
                  {feature.code.map((item) => (
                    <div class="rounded-lg border border-slate-800 bg-navy-900 p-4">
                      <p class="mb-2 text-xs font-medium text-slate-500">{item.label}</p>
                      <code class="text-sm text-primary-400">&gt; {item.command}</code>
                    </div>
                  ))}
                </div>
                <div class="flex-1 flex justify-center">
                  <ul class="space-y-4">
                  {feature.details.map((detail) => (
                    <li class="flex items-start gap-3">
                      <svg class="mt-1 h-5 w-5 shrink-0 text-primary-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                      </svg>
                      <span class="text-slate-300">{detail}</span>
                    </li>
                  ))}
                  </ul>
                </div>
              </>
            )}
          </div>
      </div>
    </section>
  ))}

  <!-- Supported Runtimes -->
  <section class="border-t border-primary-600 py-20">
    <div class="container">
      <div class="text-center">
        <h2 class="text-3xl font-bold text-white">Supported Runtimes</h2>
        <p class="mt-4 text-lg text-slate-400">
          One tool for all your runtime versions
        </p>
      </div>

      <div class="mx-auto mt-12 grid max-w-4xl gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {runtimes.map((runtime) => (
          <div class="rounded-xl border border-slate-800 bg-navy-900 p-6">
            <div class="flex items-center gap-4">
              <img src={`/images/runtime-logos/${runtime.icon}.svg`} alt={`${runtime.name} logo`} class="h-6 w-6" loading="lazy" />
              <div class="flex-1">
                <div class="flex items-center justify-between">
                  <span class="text-xl font-semibold text-white">{runtime.name}</span>
                  {runtime.status === 'available' ? (
                    <span class="rounded-full px-3 py-1 text-xs font-medium" style="background-color: rgba(16, 185, 129, 0.2); color: #34d399; box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.5);">
                      Available
                    </span>
                  ) : (
                    <span class="rounded-full bg-slate-800 px-3 py-1 text-xs font-medium text-slate-400">
                      Coming Soon
                    </span>
                  )}
                </div>
                <p class="mt-3 font-mono text-sm text-slate-500">{runtime.shims}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Additional Features -->
  <section class="border-t border-primary-600 py-20">
    <div class="container">
      <div class="text-center">
        <h2 class="text-3xl font-bold text-white">And More</h2>
        <p class="mt-4 text-lg text-slate-400">
          Built for real-world developer workflows
        </p>
      </div>

      <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {additionalFeatures.map((feature) => (
          <div class="flex h-full flex-col rounded-xl border border-slate-800 bg-navy-900 p-6">
            <div class="flex items-center gap-3">
              {feature.icon === 'migrate' && (
                <svg class="h-5 w-5 text-primary-400" style="margin-right: 0.5rem;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                </svg>
              )}
              {feature.icon === 'fallback' && (
                <svg class="h-5 w-5 text-primary-400" style="margin-right: 0.5rem;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                </svg>
              )}
              {feature.icon === 'refresh' && (
                <svg class="h-5 w-5 text-primary-400" style="margin-right: 0.5rem;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
              )}
              {feature.icon === 'bolt' && (
                <svg class="h-5 w-5 text-primary-400" style="margin-right: 0.5rem;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              )}
              {feature.icon === 'cube' && (
                <svg class="h-5 w-5 text-primary-400" style="margin-right: 0.5rem;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                </svg>
              )}
              {feature.icon === 'server' && (
                <svg class="h-5 w-5 text-primary-400" style="margin-right: 0.5rem;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" />
                </svg>
              )}
              <h3 class="text-xl font-semibold text-white">{feature.title}</h3>
            </div>
            <p class="mt-2 flex-1 text-slate-400">{feature.description}</p>
            <div class="mt-6 rounded-lg border border-slate-800 p-4" style="background-color: #070d18;">
              <code class="text-sm text-primary-400">&gt; {feature.command}</code>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="border-t border-primary-600 py-20" style="background: radial-gradient(ellipse 100% 100% at 50% 100%, rgba(45, 212, 191, 0.4), transparent 70%);">
    <div class="container text-center">
      <h2 class="text-3xl font-bold text-white">Ready to simplify your workflow?</h2>
      <p class="mt-4 text-lg text-slate-400">
        Install dtvem in seconds and start managing your runtimes.
      </p>
      <div class="mt-8 flex flex-col items-center justify-center gap-4 sm:flex-row">
        <a href="/docs/user-guide/getting-started" class="btn-primary">
          Get Started
        </a>
        <a href="/docs" class="btn-secondary">
          Read the Docs
        </a>
      </div>
    </div>
  </section>

</BaseLayout>
